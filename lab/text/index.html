<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<script src="../../lib/three.min.js"></script>
		<script src="../../js/threeQuery.min.js"></script>
		<script>
			var [scene, renderer, camera] = $$.init();
			$$.animate();

			function addText(text, style) {
//				var canvas = document.createElement('canvas');
//				var context = canvas.getContext('2d');
//				context.fillStyle = '#FF0000';
//				context.font = style.weight + " " + style.size + "px " + style.family; //"normal " + textHeight + "px Arial";
//				metrics = context.measureText(text);
//				var textWidth = metrics.width;
//				console.log(metrics)
//				canvas.width = textWidth;
//				canvas.height = style.size;
//				//				canvas.style.width= textWidth;
//				//				canvas.style.height= canvas.height;
//				//				context.textAlign = "center";
//				//				context.textBaseline = "middle";
//				//				context.fillStyle = "#ff0000";
//				context.fillText(text, 0, 0);

				var c = document.createElement('canvas');
				var ctx = c.getContext("2d");
				ctx.font = style.weight + " " + style.size + "px " + style.family;
				var txt = text;
				var width = ctx.measureText(text).width;
				c.width=width;
				c.height=style.size;
				ctx.font = style.weight + " " + style.size + "px " + style.family;
				ctx.fillStyle = "#ff0000";
				ctx.fillText(txt, 0, style.size);

				var texture = new THREE.Texture(c);
				texture.needsUpdate = true;
				var material = new THREE.SpriteMaterial({
					map: texture,
				});
				var sprite = new THREE.Sprite(material);
				return sprite;
			}

			text = addText("a", {
				weight: "bold",
				size: 50,
				family: "微软雅黑"
			});
			scene.add(text);
			camera.position.z = 1;
		</script>
	</body>

</html>